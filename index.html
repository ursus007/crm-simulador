<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ficha de Cliente - ursus007</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; padding: 20px; }
        .ficha { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); width: 400px; border-top: 6px solid #28a745; }
        h2 { color: #333; margin-top: 0; border-bottom: 2px solid #f0f2f5; padding-bottom: 10px; }
        .seccion { margin-top: 15px; font-size: 0.8em; color: #28a745; font-weight: bold; text-transform: uppercase; }
        .dato { margin: 8px 0; border-bottom: 1px solid #f8f9fa; padding-bottom: 5px; }
        label { font-weight: bold; color: #666; display: block; font-size: 0.85em; }
        span { color: #000; font-size: 1em; word-break: break-all; }
    </style>
</head>
<body>
    <div class="ficha">
        <h2>Llamada Entrante</h2>
        
        <div class="seccion">Datos del Cliente</div>
        <div class="dato"><label>Código Cliente:</label> <span id="p">---</span></div>
        <div class="dato"><label>Teléfono Cliente:</label> <span id="t">---</span></div>
        <div class="dato"><label>ID Campaña:</label> <span id="b">---</span></div>

        <div class="seccion">Detalles del Agente</div>
        <div class="dato"><label>Número Destino (Callee):</label> <span id="cn">---</span></div>
        <div class="dato"><label>Agente Responsable:</label> <span id="aa">---</span></div>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        
        function mostrarDato(id, param) {
            const val = params.get(param);
            if (val) {
                // decodeURIComponent convierte el %40 en @ automáticamente
                document.getElementById(id).textContent = decodeURIComponent(val);
            }
        }

        mostrarDato('p', 'p');
        mostrarDato('t', 't');
        mostrarDato('b', 'b');
        mostrarDato('cn', 'cn');
        mostrarDato('aa', 'aa');
    </script>
</body>
</html>
